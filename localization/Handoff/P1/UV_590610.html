Tutorial: Create calculated columns in Power BI Designer

	<div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Sometimes the data you’re analyzing just doesn’t contain a particular
field you need to get the results you’re after. This is where calculated
columns come in. Calculated columns use Data Analysis Expressions (DAX)
formulas to define a column’s values. Those values can be just about anything,
whether it be putting together text values from a couple of different columns
elsewhere in the model, or calculating a numeric value from other values. For
example, let’s say your data has a City and State columns (as fields in the
Fields list), but you want a single Location field that has both as a single
value, like Miami, FL. This is precisely what calculated columns are for. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Calculated columns are similar to measures in that both are
based on a DAX formula, but they differ in how they are used. Measures are most
often used in the&nbsp;Values&nbsp;area of a visualization, to calculate
results based on other fields you have on a row in a table, or in an Axis or
Group area of a visualization. Calculated columns on the other hand are used when
you want the column’s results on that row in the table, or in the Axis or Group
area.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">This tutorial will guide you through understanding and creating
some of your own calculated columns in Power BI Designer. It’s intended for
Power BI users already familiar with using the designer to create more advanced
models. You should already be familiar with using Query to import data, working
with multiple related tables, and adding fields to the Report Canvas. If you’re
new to the designer, be sure to check out <a href="https://support.powerbi.com/knowledgebase/articles/471664-getting-started-with-power-bi-designer">Getting Started with Power BI
Designer</a>.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">To complete the steps in this tutorial, you’ll need to
download the </font><a href="http://download.microsoft.com/download/4/6/A/46AB5E74-50F6-4761-8EDB-5AE077FD603C/Contoso%20Sales%20for%20Power%20BI%20Designer.zip"><font color="#0000ff" face="Calibri" size="3">Contoso
Sales for Power BI Designer file</font></a><font face="Calibri" size="3">. This is the same sample file used
for the </font><a href="https://support.powerbi.com/knowledgebase/articles/556656-tutorial-create-your-own-measures-in-power-bi-des"><font color="#0000ff" face="Calibri" size="3">Create
your own measures in Power BI Designer</font></a><font face="Calibri" size="3"> tutorial. It already includes sales
data from the fictitious company, Contoso, Inc. Because data in the file was
imported from a database, you won’t be able to connect to the datasource or
view it in Query view. When you have the designer file on your own computer, go
ahead and open it in Power BI Designer.</font></p><div><font face="Times New Roman" size="3">

</font><p></p><h2>Let’s create a calculated column</h2><p style="margin: 6pt 0in;"><font face="Times New Roman">

</font></p></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Let’s say we want to display product categories together
with product subcategories in a single value on rows, like Cell phones –
Accessories, Cell phones – Smart phones &amp; PDAs, and so on. If we look at
our product tables in the field list, we see there’s no field that gives is what we want. We do, however, have a ProductCategory field and a
ProductSubcategory field, each in their own tables. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;<span><img src="https://powerbi.uservoice.com/assets/80600400/CalcCol_Fileds_NoNewCol.png"></span></font></p><div><font face="Times New Roman" size="3">
</font><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">We’ll create a new calculated column to combine values from
these two column into new values for our new column. Interestingly enough, we
need to combine data from two different tables into a single column. Because we’re
going to use DAX to create our new column, we can leverage the full power of
the model we already have, including the relationships between different tables
that already exist. </font></p><div><font face="Times New Roman" size="3">

</font></div><h3><font face="Calibri" size="3">To create a ProductFullCategory column</font></h3><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>1.</b>&nbsp; Right click, or click the down arrow on the <b>ProductSubcategory</b>
table in the Fields list, and then click <b>New Column</b>. This will make sure our
new column is added to the ProductSubcategory table.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80600466/CalcCol_Fileds_NewColumn.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">The formula bar appears along the top of the Report Canvas.
This is where we can rename our column and enter a DAX formula.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80600484/CalcCol_Fileds_NewColumnFormula.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">By default a new calculated column is simply named Column.
If we don’t rename it, when we create another, it will be named Column 2, Column
3, and so on. We want our columns to be more identifiable, so we’ll give our
new column a new name. </font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>2.&nbsp;</b> Since the <b>Column</b> name is already highlighted in the formula
bar, just type <b>ProductFullCategory</b>.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Now we can begin entering our formula. We want the values in
our new column to start with the ProductCategory name from the ProductCategory
table. Because this column is in a different, but related table, we’re going to
use the </font><a href="https://support.office.com/en-in/article/RELATED-Function-DAX-5d0eee69-8acd-4c3e-a0af-ff23ba01a7bf"><font color="#0000ff" face="Calibri" size="3">RELATED</font></a><font face="Calibri" size="3">
function to help us get it.</font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>3.</b>&nbsp; After the equals sign, type R. You’ll see a dropdown suggestion
list appear with all of the DAX functions beginning with the letter <b>R</b>. The more
we type, the more the suggestion list is scaled closer to the function we need.
Next to the function you’ll see a description of the function. Select <b>RELATED</b>
by scrolling down, and then pressing Enter.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri"><font size="3"><span style="mso-spacerun: yes;">&nbsp;<span><img src="https://powerbi.uservoice.com/assets/80604318/CalcCol_Fileds_PFC_1.png"></span></span><span style="mso-no-proof: yes;"></span></font></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">An opening parenthesis appears along with another suggestion
list of all of the available columns we can pass to the RELATED function. A
description and details on what parameters are expected is also shown.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri"><font size="3"><span style="mso-spacerun: yes;">&nbsp;<span><img src="https://powerbi.uservoice.com/assets/80604342/CalcCol_Fileds_PFC_2.png"></span></span><span style="mso-no-proof: yes;"></span></font></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">An expression always appears between an opening and closing parenthesis.
In this case, our expression is going to contain a single argument passed to
the RELATED function; a related column to return values from. The list of
columns is automatically narrowed down to show only the columns that are
related. In this case, we want the ProductCategory column in the
ProductCategory table. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Select<b> ProductCategory[ProductCategory]</b>, and then type a
closing parenthesis.</font></p><div><font face="Times New Roman" size="3">

</font></div><blockquote><font face="Calibri" size="3"><b>Tip:</b> Syntax errors are most often caused by a missing or
misplaced closing parenthesis. But often the designer will add it if you
forget.</font></blockquote><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604402/CalcCol_Fileds_PFC_3.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>4.&nbsp;</b> We want to add a dash symbol to separate each value, so after
the closing parenthesis of the first expression, type a space, ampersand
(&amp;), quote, space, dash (-), another space, a closing quote, and then
another ampersand. Your formula should now look like this:</font></p><div><font face="Times New Roman" size="3">

</font></div><blockquote><font face="Calibri" size="3"><b>ProductFullCategory =
RELATED(ProductCategory[ProductCategory]) &amp; " - " &amp;</b></font></blockquote><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>5.&nbsp;</b> Finally, enter another opening bracket and then select the <b>[ProductSubcategory]</b>
column to finish the formula. Your formula should look like this:</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604540/CalcCol_Fileds_PFC_4.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">You’ll notice we didn’t use another RELATED function in the
second expression calling the ProductSubcategory column. This is because this
column is already in the same table we’re creating our new column in. We can
enter [ProductCategory] with the table name (fully qualified) or without
(non-qualified). </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>6.</b>&nbsp; Complete the formula by pressing Enter or clicking on the
checkmark in the formula bar. The formula is validated and added to the field
list in the <b>ProductSubcategory</b> table. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604591/CalcCol_Fileds_PFC_6.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">You’ll notice calculated columns get a special icon in the
field list. This shows they’re special and contain a formula. They’ll only
appear like this in Power BI Designer. In PowerBI.com (Power BI Sites), there’s
no way to change a formula, so a calculated column field won’t have an icon.</font></p><div><font face="Times New Roman" size="3">

</font></div><h2><font face="Calibri" size="3">Let’s add our new column to a report</font></h2><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Now we can add our new ProductFullCategory column to the
report canvas. Let’s look at SalesAmount by ProductFullCategory.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Drag the <b>ProductFullCategory </b>column from the <b>ProductSubcategory</b>
table onto the Report canvas, and then drag the <b>SalesAmount</b> field from the <b>Sales</b>
table into the chart.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604714/CalcCol_Fileds_Report_1.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;</font></p><div><font face="Times New Roman" size="3">

</font><p></p><h2>Let’s create another</h2><p style="margin: 6pt 0in;"><font face="Times New Roman">

</font></p></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Now that you know how to create a calculated column, let’s
create another. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">The Contoso Sales for Power BI Designer model contains sales
data for both active and inactive stores. We want to make it really clear that
data shown for inactive stores is identified as such. In-effect, we want a
field named Active StoreName. To do this, we’ll create another column. In this
case, when a store is inactive, we want our new Active StoreName column (as a
field) to show the store’s name as “Inactive”, but show the store’s real name
when it’s an active store. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Fortunately, our Stores table has a column named Status,
with a value of On for active stores, and Off for inactive stores. We can test
values for each row in the Status column to create new values in our new
column. </font></p><div><font face="Times New Roman" size="3">

</font></div><h3><font face="Calibri" size="3">To create an Active StoreName column</font></h3><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>1.</b>&nbsp; Create a new calculated column named <b>Active StoreName</b> in the
<b>Stores</b> table. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">For this column, our DAX formula is going to check each
stores status. If a stores status is On, our formula will return the stores
name. If it’s Off, it will have the name, “Inactive”. To do this, we’ll use the
logical </font><a href="https://support.office.com/en-in/article/Logical-Functions-DAX-3e6f6898-8d50-4d0f-9e2c-99bb2aa1a8bc"><font color="#0000ff" face="Calibri" size="3">IF</font></a><font face="Calibri" size="3">
function to test the stores status and return a particular value if the result
is true or false. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>2.</b>&nbsp; Begin typing <b>IF</b>. The suggestion list will show what we can
add. Select <b>IF</b>.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604888/CalcCol_ActiveStore_1.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">The first argument for IF is a logical test. We want to test
whether or not a store has a status of “On”.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>3.</b>&nbsp; Type an opening bracket <b>[</b> , which allows us to select
columns from the Stores table. Select <b>[Status]</b>.</font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;<span><img src="https://powerbi.uservoice.com/assets/80604918/CalcCol_ActiveStore_2.png"></span></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>4.</b>&nbsp; Right after <b>[Status]</b>, type <b>="On"</b>,<span style="mso-spacerun: yes;">&nbsp; </span>then enter a comma (<b>,</b>) to enter the second
argument. The tooltip suggests we need to add the value for when the result is
true. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80604981/CalcCol_ActiveStore_3.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>5.</b>&nbsp; If the store is On, we want to show the store’s name. Type an
opening bracket <b>[</b> and select the <b>[StoreName] </b>column, and then type another
comma so we can enter our third argument.</font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><span><span><img src="https://powerbi.uservoice.com/assets/80605143/CalcCol_ActiveStore_Step5.png"></span></span></font></p><div><font face="Times New Roman" size="3">

</font><font face="Times New Roman" size="3">

</font><font face="Calibri" size="3"><br></font></div><div><font face="Calibri" size="3"><b>6.</b>&nbsp; We need to add a value for when the result is false, in this
case we want to the value to be <b>“Inactive”</b>.</font><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><span style="mso-no-proof: yes;"><font face="Times New Roman" size="3"><span><img src="https://powerbi.uservoice.com/assets/80605158/CalcCol_ActiveStore_Step6.png"></span><br></font></span></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><br></font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3"><b>7.</b>&nbsp; Complete the formula by pressing Enter or clicking on the
checkmark in the formula bar. The formula is validated and added to the field
list in the Stores table. </font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri"><font size="3"><br></font></font></p><p style="margin: 6pt 0in;"><font face="Calibri"><font size="3">Just like any other field, we can use our new Active
StoreName column in visualizations. In this chart, stores with a status of On
are shown individually by name, but stores with a status of Off are grouped
together and shown as Inactive.<span style="mso-spacerun: yes;">&nbsp; </span></font></font></p><div><font face="Times New Roman" size="3">

</font></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">&nbsp;<span><img src="https://powerbi.uservoice.com/assets/80605218/CalcCol_ActiveStore_Viz.png"></span></font></p><div><font face="Times New Roman" size="3">

</font><p></p><h2>What we’ve learned</h2><p style="margin: 6pt 0in;"><font face="Times New Roman">

</font></p></div><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Calculated columns can enrich your data, providing easier insights.
You’ve learned how to create calculated columns by using the formula bar, how
to use the suggestions list, and how to best name your new columns.</font></p><div><font face="Times New Roman" size="3">

</font><p></p><h2>Additional resources</h2><p style="margin: 6pt 0in;"><font face="Times New Roman">
</font><font face="Calibri" size="3">If you want to take a deeper dive into DAX formulas, and create
calculated columns with more advanced DAX formulas, see <a href="https://support.powerbi.com/knowledgebase/articles/554619-quickstart-learn-dax-basics-in-power-bi-designer">QuickStart: DAX in
Power BI Designer</a>. This article focuses on fundamental concepts in DAX, such as
syntax, functions, and a more thorough understanding of context. </font></p><p style="margin: 6pt 0in;"><font face="Calibri" size="3">Be sure to add the <a href="https://support.office.com/en-us/article/Data-Analysis-Expressions-DAX-Reference-411C6891-614D-438C-BF45-C7E061DD9E08">Data Analysis Expressions (DAX) Reference</a>&nbsp;to your favorites. This is where you'll find detailed info on DAX syntax, operators, and the over 200 DAX functions.</font></p></div><div><font face="Times New Roman" size="3">

</font></div><div></div>
